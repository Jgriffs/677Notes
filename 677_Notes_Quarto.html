<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Joe Griffiths">

<title>677_Notes_Quarto</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="677_Notes_Quarto_files/libs/clipboard/clipboard.min.js"></script>
<script src="677_Notes_Quarto_files/libs/quarto-html/quarto.js"></script>
<script src="677_Notes_Quarto_files/libs/quarto-html/popper.min.js"></script>
<script src="677_Notes_Quarto_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="677_Notes_Quarto_files/libs/quarto-html/anchor.min.js"></script>
<link href="677_Notes_Quarto_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="677_Notes_Quarto_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="677_Notes_Quarto_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="677_Notes_Quarto_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="677_Notes_Quarto_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">677_Notes_Quarto</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Joe Griffiths </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<p>The following are notes for Chapter 5 of <em>Elementary Decision Making</em>, titled “Uncertainty due to Ignorance of the State of Nature”.</p>
<section id="libraries" class="level1">
<h1>Libraries</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(ggplot2))</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">suppressPackageStartupMessages</span>(<span class="fu">library</span>(tidyverse))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><em>Expected loss</em> is a key concept in decision theory, used to quantify some amount of utility that is lost as a result of a certain action. Chapter 5 of Chernoff &amp; Moses touches on this concept of expected loss of utility <span class="math inline">\(L(\theta,s)\)</span>.</p>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>To find the expected losses of strategies featured in the main example in the chapter, some of the tables need to be created.</p>
<section id="table-5.1" class="level2">
<h2 class="anchored" data-anchor-id="table-5.1">Table 5.1</h2>
<p>Following page 120, the following variables/conditions exist:</p>
<p>States of nature: <span class="math inline">\(\theta_1\)</span> = “Today is a sunny day.” <span class="math inline">\(\theta_2\)</span> = “Today is a rainy day.”</p>
<p>Available actions: <span class="math inline">\(\alpha_1\)</span> = “Wear fair-weather outfit.” <span class="math inline">\(\alpha_2\)</span> = “Wear outfit with raincoat.” <span class="math inline">\(\alpha_3\)</span> = “Wear outfit with raincoat, boots, rain hat, and umbrella.”</p>
<p><strong>Table 5.1</strong></p>
<table class="table">
<thead>
<tr class="header">
<th></th>
<th><span class="math inline">\(\alpha_1\)</span></th>
<th><span class="math inline">\(\alpha_2\)</span></th>
<th><span class="math inline">\(\alpha_3\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><span class="math inline">\(\theta_1\)</span> (no rain)</td>
<td>0</td>
<td>1</td>
<td>3</td>
</tr>
<tr class="even">
<td><span class="math inline">\(\theta_2\)</span> (rain)</td>
<td>5</td>
<td>3</td>
<td>2</td>
</tr>
</tbody>
</table>
</section>
<section id="tables" class="level2">
<h2 class="anchored" data-anchor-id="tables">Tables</h2>
<p>The following code creates additional tables featured in the chapter.</p>
<section id="chapter-tables" class="level3">
<h3 class="anchored" data-anchor-id="chapter-tables">Chapter Tables</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Mr. Nelson's Loss of Utility l(sigma,alpha) from (pg. 120,table 5.1)</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>sigma_one <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">1</span>,<span class="dv">3</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>sigma_two <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">3</span>,<span class="dv">2</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>Loss_table <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(<span class="fu">data.frame</span>(sigma_one,sigma_two))) <span class="sc">|&gt;</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">a1 =</span> V1, <span class="at">a2 =</span> V2, <span class="at">a3 =</span> V3)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Weather indication probabilities Table (p121 table 5.2)</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>sigma_one <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.6</span>,<span class="fl">0.25</span>,<span class="fl">0.15</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>sigma_two <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fl">0.2</span>,<span class="fl">0.3</span>,<span class="fl">0.5</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>Weather_table <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(<span class="fu">data.frame</span>(sigma_one,sigma_two))) <span class="sc">|&gt;</span> </span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">State_1 =</span> V1, <span class="at">State_2 =</span> V2, <span class="at">State_3 =</span> V3)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Strategy Table (p121 table 5.3)</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>Strategy <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">27</span>)</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>x_1 <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"a1"</span>,<span class="dv">9</span>),<span class="fu">rep</span>(<span class="st">"a2"</span>,<span class="dv">9</span>),<span class="fu">rep</span>(<span class="st">"a3"</span>,<span class="dv">9</span>))</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>x_2 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="fu">rep</span>(<span class="st">"a1"</span>,<span class="dv">3</span>), <span class="fu">rep</span>(<span class="st">"a2"</span>,<span class="dv">3</span>),<span class="fu">rep</span>(<span class="st">"a3"</span>,<span class="dv">3</span>)),<span class="dv">3</span>)</span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>x_3 <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">"a1"</span>,<span class="st">"a2"</span>,<span class="st">"a3"</span>),<span class="dv">9</span>)</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>Strategy_Table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(Strategy,x_1,x_2,x_3)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a><span class="fu">remove</span>(sigma_one,sigma_two,x_1,x_2,x_3,Strategy)</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>Loss_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          a1 a2 a3
sigma_one  0  1  3
sigma_two  5  3  2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>Weather_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          State_1 State_2 State_3
sigma_one     0.6    0.25    0.15
sigma_two     0.2    0.30    0.50</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>Strategy_Table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Strategy x_1 x_2 x_3
1         1  a1  a1  a1
2         2  a1  a1  a2
3         3  a1  a1  a3
4         4  a1  a2  a1
5         5  a1  a2  a2
6         6  a1  a2  a3
7         7  a1  a3  a1
8         8  a1  a3  a2
9         9  a1  a3  a3
10       10  a2  a1  a1
11       11  a2  a1  a2
12       12  a2  a1  a3
13       13  a2  a2  a1
14       14  a2  a2  a2
15       15  a2  a2  a3
16       16  a2  a3  a1
17       17  a2  a3  a2
18       18  a2  a3  a3
19       19  a3  a1  a1
20       20  a3  a1  a2
21       21  a3  a1  a3
22       22  a3  a2  a1
23       23  a3  a2  a2
24       24  a3  a2  a3
25       25  a3  a3  a1
26       26  a3  a3  a2
27       27  a3  a3  a3</code></pre>
</div>
</div>
<p>Action tables, as featured in the chapter, were created in order to calculate expected values according to <span class="math inline">\(\theta_1\)</span> and <span class="math inline">\(\theta_2\)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># dfs used to assemble action tables--------------------------------------</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>a1_count <span class="ot">&lt;-</span> <span class="cf">function</span>(column){a <span class="ot">&lt;-</span> <span class="fu">str_count</span>(column,<span class="st">"a1"</span>)}</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>a1_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(Strategy_Table[,<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>],a1_count))</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>a2_count <span class="ot">&lt;-</span> <span class="cf">function</span>(column){b <span class="ot">&lt;-</span> <span class="fu">str_count</span>(column,<span class="st">"a2"</span>)}</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>a2_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(Strategy_Table[,<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>],a2_count))</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>a3_count <span class="ot">&lt;-</span> <span class="cf">function</span>(column){c <span class="ot">&lt;-</span> <span class="fu">str_count</span>(column,<span class="st">"a3"</span>)}</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>a3_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(Strategy_Table[,<span class="dv">2</span><span class="sc">:</span><span class="dv">4</span>],a3_count))</span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ------------------------------------------------------------------------</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a><span class="co"># setting up classes in order to do matrix multiplication</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>tw <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(<span class="fu">t</span>(Weather_table))</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>a1_df <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(a1_df)</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>a2_df <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(a2_df)</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>a3_df <span class="ot">&lt;-</span> <span class="fu">as.matrix</span>(a3_df)</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a><span class="co"># matrix multiplication</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>tA1 <span class="ot">&lt;-</span> <span class="fu">t</span>(a1_df <span class="sc">%*%</span> tw)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>tA2 <span class="ot">&lt;-</span> <span class="fu">t</span>(a2_df <span class="sc">%*%</span> tw)</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>tA3 <span class="ot">&lt;-</span> <span class="fu">t</span>(a3_df <span class="sc">%*%</span> tw)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>I then created a function to calculate the expected loss for any given strategy <span class="math inline">\(s_n\)</span> for both possible states <span class="math inline">\(\theta_1\)</span> and <span class="math inline">\(\theta_2\)</span>.</p>
</section>
<section id="expected-loss-function" class="level3">
<h3 class="anchored" data-anchor-id="expected-loss-function">Expected Loss function</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>EL_calc <span class="ot">&lt;-</span> <span class="cf">function</span>(strategy){ <span class="do">### for any strategy 1-27, calculates the EL for sit. 1 and 2</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>  Action_Probability_Table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">p_action1 =</span> tA1[,strategy],</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">p_action2 =</span> tA2[,strategy],</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                                         <span class="at">p_action3 =</span> tA3[,strategy])<span class="sc">*</span>Loss_table</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>  Action_Probability_Table<span class="sc">$</span>EL <span class="ot">&lt;-</span> <span class="fu">rowSums</span>(Action_Probability_Table)</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  EL <span class="ot">&lt;-</span> Action_Probability_Table[,<span class="dv">4</span>]</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  EL</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>This function takes the product of the loss of utility for each action <span class="math inline">\(\alpha\)</span> for Mr.&nbsp;Nelson and the probability of each action given the state of nature <span class="math inline">\(P(\alpha | \theta)\)</span> .</p>
</section>
<section id="loss-of-utility-table" class="level3">
<h3 class="anchored" data-anchor-id="loss-of-utility-table">Loss of Utility table</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Table 5.4</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>Loss_of_Utility_Table <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">lapply</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">27</span>, EL_calc))</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="fu">rownames</span>(Loss_of_Utility_Table) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"theta_one"</span>,<span class="st">"theta_two"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(Loss_of_Utility_Table) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">27</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="do">### setting up table for plot</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>Loss_of_Utility_Table_Trans <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">t</span>(Loss_of_Utility_Table)) <span class="sc">|&gt;</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">EL_Theta_One=</span>theta_one,<span class="at">EL_Theta_Two=</span>theta_two) <span class="sc">|&gt;</span> </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">StrategyNumber =</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">27</span>)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">row.names</span>(Loss_of_Utility_Table_Trans) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">27</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The chapter features a few plots and elaborates on <em>Admissible strategies</em>.</p>
</section>
</section>
<section id="plots" class="level2">
<h2 class="anchored" data-anchor-id="plots">Plots</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>Admissible_Strategies <span class="ot">&lt;-</span> Loss_of_Utility_Table_Trans[<span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">9</span>,<span class="dv">15</span>,<span class="dv">18</span>,<span class="dv">27</span>),]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>Loss_of_Utility_Table_Trans<span class="sc">$</span>Admissible <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(<span class="fu">ifelse</span>(Loss_of_Utility_Table_Trans<span class="sc">$</span>StrategyNumber <span class="sc">%in%</span> Admissible_Strategies<span class="sc">$</span>StrategyNumber,<span class="st">"Yes"</span>,<span class="st">"No"</span>))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>Plot_Loss <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(Loss_of_Utility_Table_Trans,<span class="fu">aes</span>(EL_Theta_One,EL_Theta_Two))<span class="sc">+</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">color=</span>Admissible))<span class="sc">+</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">xlim</span>(<span class="dv">0</span>,<span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ylim</span>(<span class="dv">0</span>,<span class="cn">NA</span>)<span class="sc">+</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"Expected loss of utility for each strategy"</span>,</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">"Theta one"</span>,</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">"Theta two"</span>)<span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">label=</span><span class="fu">rownames</span>(Loss_of_Utility_Table_Trans),</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>            <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>            <span class="at">vjust =</span> <span class="fl">1.3</span>,</span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>            <span class="at">check_overlap =</span> T)<span class="sc">+</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_light</span>()</span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># help from https://r-graph-gallery.com/275-add-text-labels-with-ggplot2.html</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>Loss_of_Utility_Table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          1    2    3    4   5   6    7   8   9  10   11   12   13 14  15   16
theta_one 0 0.15 0.45 0.25 0.4 0.7 0.75 0.9 1.2 0.6 0.75 1.05 0.85  1 1.3 1.35
theta_two 5 4.00 3.50 4.40 3.4 2.9 4.10 3.1 2.6 4.6 3.60 3.10 4.00  3 2.5 3.70
           17  18  19   20   21   22  23  24   25  26 27
theta_one 1.5 1.8 1.8 1.95 2.25 2.05 2.2 2.5 2.55 2.7  3
theta_two 2.7 2.2 4.4 3.40 2.90 3.80 2.8 2.3 3.50 2.5  2</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>Plot_Loss</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="677_Notes_Quarto_files/figure-html/Plots-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As shown above, <em>admissible</em> strategies (colored blue) sit at the bottom edge of all of the strategies (designated by points on the graph). A strategy is <em>inadmissible</em> if another strategy offers a lower expected loss of utility for any possible state. For example, strategy 4 (top left) is inadmissible because in the event that state 1 or state 2 is the true state of nature, then strategy 2 would offer smaller expected losses of utility in either state. In this scenario, strategy 2 <em>dominates</em> strategy 4 since it is preferable in both states. Although strategy 2 offers a lower expected loss of utility than strategy 1 in the event of state 2 being the true state of nature, strategy 1 is expected to have a smaller loss of utility in the event that state 1 is the true state of nature. Since strategy 1 is not dominated by any other state, it is therefore <em>admissible</em>. I created an additional column in the dataframe of strategies that designates whether a strategy is admissible in order to distinguish it in the figure (blue = admissible).</p>
<p>Miller &amp; Miller reference <em>dominant</em> strategies in Chapter 9 of <em>John E. Freund’s mathematical statistics with applications</em>, titled “Decision Theory”. In contrast to Chernoff, H., &amp; Moses’ example of Mr.Nelson, their examples detail two players who each have their own strategy. Thus, instead of having a table of strategies <span class="math inline">\(s_1,s_2,...s_n\)</span> by states <span class="math inline">\(\theta_1,\theta_2,...\theta_n\)</span>, the table resembles a strategy by strategy table, which has implications for optimal decison making.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"C:/Users/Joe/Desktop/677 Found Stats/677 Final/677Notes/Expected Loss Shaded.png"</span>) <span class="co">#when clicking on image under files, open option that says "copy path" and paste into quotes</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Expected%20Loss%20Shaded.png" class="img-fluid" width="944"></p>
</div>
</div>
<p>As noted in Figure 5.2 (pg. 126), the set of points, including the admissible ones, with that house all of the points representing strategies forms a <em>convex</em> set, holding all <em>pure</em> strategies. According to Chernoff and Moses (1959), a <em>pure</em> strategy “assigns an action to each of the possible observations”.</p>
<p>Below is an application of the expected loss function, which is used to give an answer for exercise 5.1.</p>
<p>“Compute the action probabilities and losses for strategy <span class="math inline">\(s_{10}\)</span>.”</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co">#using function above</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">EL_calc</span>(<span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.6 4.6</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>strategy <span class="ot">&lt;-</span> <span class="dv">10</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co">#pasted from first part in function above</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>Action_Probability_Table <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">p_action1 =</span> tA1[,strategy],</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">p_action2 =</span> tA2[,strategy],</span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a>                                       <span class="at">p_action3 =</span> tA3[,strategy])<span class="sc">*</span>Loss_table</span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>Action_Probability_Table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>          p_action1 p_action2 p_action3
sigma_one         0       0.6         0
sigma_two         4       0.6         0</code></pre>
</div>
</div>
<p>Using the function created above, titled “EL_calc”, I am able to enter in a strategy from the table and have an output that represents the expected loss of utility for state 1 and state 2. Using these two values, I am able to perform matrix multiplication with the loss of utility table (pg. 120, table 5.1) to find the losses of strategy 10.</p>
<p>Given a different loss of utility table, probability of state table, and strategy table, one could modify the expected loss function created above to come up with solutions to other problems involving uncertainty due to nature.</p>
</section>
</section>
<section id="reference" class="level1">
<h1>Reference</h1>
<p><span class="math inline">\(1\)</span> Chernoff, H., &amp; Moses, L. E. (1959). Elementary decision theory. Chapter 5.</p>
<p><span class="math inline">\(2\)</span> Miller, J. (1999). John E. Freund’s mathematical statistics. Chapter 9.</p>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>